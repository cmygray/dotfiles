# Notion 작업 관리

## 사용자 정보
- 이름: 원 (Won)
- 역할: 개발자
- Notion 계정: classting-won@classting.com
- 작업 할당 시 나를 멘션하거나 할당자로 설정할 때 이 정보를 활용

## 실행 지침

이 커맨드가 호출되면:

1. **대화 컨텍스트 분석**
   - 티켓 정보 (plan.md, 아티팩트 등)
   - Notion 페이지 링크
   - 스프린트 보드 정보
   - 작업 요청 사항

2. **Notion MCP 활용**
   - `notion-search`: 스프린트, 데이터베이스 검색
   - `notion-fetch`: 페이지/데이터베이스 상세 조회
   - `notion-create-pages`: 티켓/페이지 생성
   - `notion-update-page`: 기존 페이지 수정

3. **스프린트 식별** (스프린트 관련 작업 시)
   - 스프린트 데이터베이스에서 "스프린트 상태"가 "현재"인 항목 찾기
   - 명시된 스프린트 링크가 있으면 해당 스프린트 사용
   - 스프린트 컨텍스트 제공

4. **작업 실행**
   - 티켓 생성: 템플릿/스키마에 맞춰 페이지 생성
   - 페이지 수정: 기존 내용 조회 후 업데이트
   - 작업 할당: 사용자 정보로 담당자 설정
   - 스프린트 연결: 현재 또는 지정된 스프린트에 연결

5. **결과 확인**
   - 생성/수정된 페이지 URL 반환
   - 변경 사항 요약

## 스프린트 관리 룰

- 스프린트 관련 대화 시 항상 현재 진행 중인 스프린트("현재" 상태)를 먼저 식별하여 컨텍스트 제공
- 스프린트 데이터베이스에서 "스프린트 상태"가 "현재"인 항목을 찾아 활성 스프린트 확인
- 티켓 작업 시 해당 스프린트와의 연관성을 항상 고려
- 새 작업 생성 시 현재 스프린트에 자동 연결 고려

## 일반적인 작업 시나리오

### 1. 티켓 일괄 생성
```
사용자: /notion plan.md의 티켓들을 [스프린트 링크]에 등록해줘
→ plan.md 읽기
→ 스프린트 페이지 조회
→ 각 티켓을 Notion 페이지로 생성
→ 스프린트와 연결
→ 담당자 설정 (필요시)
```

### 2. 단일 티켓 생성
```
사용자: /notion "API 성능 개선" 티켓 만들어줘
→ 현재 스프린트 식별
→ 티켓 페이지 생성
→ 기본 정보 입력
→ URL 반환
```

### 3. 기존 페이지 수정
```
사용자: /notion [페이지 링크] 상태를 "완료"로 변경
→ 페이지 조회
→ 상태 속성 업데이트
→ 결과 확인
```

## 주의사항

- Notion API 권한 확인 필요
- 데이터베이스 스키마에 맞는 속성 사용
- 페이지 링크는 전체 URL 또는 ID만 지원
- 대량 작업 시 API rate limit 고려

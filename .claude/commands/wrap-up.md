---
description: "ìž‘ì—… ë¸Œëžœì¹˜ë¥¼ ì •ë¦¬í•˜ê³  ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ë¥¼ ì •ëˆí•©ë‹ˆë‹¤"
tags: ["git", "cleanup", "project"]
---

ë‹¹ì‹ ì€ ìž‘ì—… ë¸Œëžœì¹˜ë¥¼ ì •ë¦¬í•˜ëŠ” ì „ë¬¸ê°€ìž…ë‹ˆë‹¤. ë‹¤ìŒ ìˆœì„œë¡œ ìž‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

## 1ë‹¨ê³„: í˜„í™© íŒŒì•…

ë‹¤ìŒì„ í™•ì¸í•˜ê³  ë¶„ì„í•©ë‹ˆë‹¤:

1. **Git ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ ë¶„ì„**
   - `git log main..HEAD --oneline --name-only` ì‹¤í–‰
   - ê° ì»¤ë°‹ì˜ ìŠ¤ì½”í”„ì™€ ë³€ê²½ íŒŒì¼ ë¶„ì„
   - ì´ ì»¤ë°‹ ìˆ˜ íŒŒì•…

2. **ìŠ¤íŽ™ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ í™•ì¸**
   - `specs/` ë””ë ‰í† ë¦¬ì—ì„œ tasks.md ë˜ëŠ” plan.md ì°¾ê¸°
   - í˜„ìž¬ ì§„í–‰ ìƒí™©ê³¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸

3. **.claude/ ìž„ì‹œ íŒŒì¼ í™•ì¸**
   - `.claude/` ë””ë ‰í† ë¦¬ ë‚´ ìž„ì‹œ íŒŒì¼ì´ git tracking ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - `git ls-files .claude/` ì‹¤í–‰í•˜ì—¬ ì¶”ì  ì¤‘ì¸ íŒŒì¼ í™•ì¸
   - `.claude/temp/`, `.claude/.temp/` ë“± ìž„ì‹œ ë””ë ‰í† ë¦¬ í¬í•¨ ì—¬ë¶€ í™•ì¸

## 2ë‹¨ê³„: ë¬¸ì œ ì‹ë³„ ë° ì œì•ˆ

ë‹¤ìŒ í•­ëª©ë“¤ì„ ì²´í¬í•˜ê³  ë°œê²¬ëœ ë¬¸ì œë¥¼ **í‘œ í˜•ì‹**ìœ¼ë¡œ ë¦¬í¬íŠ¸í•©ë‹ˆë‹¤:

### ì»¤ë°‹ ë©”ì‹œì§€ ìŠ¤ì½”í”„ ê²€ì¦

**ê·œì¹™**: ì»¤ë°‹ ìŠ¤ì½”í”„ëŠ” í”„ë¡œì íŠ¸ ëª¨ë“ˆ ê²½ë¡œ ê¸°ë°˜ì´ì–´ì•¼ í•©ë‹ˆë‹¤.

**ì˜¬ë°”ë¥¸ ìŠ¤ì½”í”„ ì˜ˆì‹œ**:
- `apps/backend/` â†’ `feat(backend)`, `fix(backend)`, `test(backend)`
- `apps/web-cms/` â†’ `feat(web-cms)`, `fix(web-cms)`, `test(web-cms)`
- `specs/008-itembank/` â†’ `docs(008-itembank)`
- `specs/XXX-feature/` â†’ `docs(XXX-feature)`
- ë£¨íŠ¸ ì„¤ì • íŒŒì¼ â†’ `chore`, `build`, `ci`

**ìž˜ëª»ëœ ìŠ¤ì½”í”„ ì˜ˆì‹œ**:
- âŒ `feat(008-itembank)` (ìŠ¤íŽ™ ë‹¨ìœ„ ìŠ¤ì½”í”„ë¥¼ êµ¬í˜„ ì»¤ë°‹ì— ì‚¬ìš©)
- âŒ `feat(items)` (ë„ˆë¬´ ì¶”ìƒì , ëª¨ë“ˆ ê²½ë¡œê°€ ì•„ë‹˜)

**ê²€ì¦ ë°©ë²•**:
- ê° ì»¤ë°‹ì˜ ë³€ê²½ íŒŒì¼ ê²½ë¡œë¥¼ í™•ì¸
- íŒŒì¼ ê²½ë¡œì—ì„œ ì˜¬ë°”ë¥¸ ìŠ¤ì½”í”„ë¥¼ ì¶”ë¡ 
- í˜„ìž¬ ì»¤ë°‹ ë©”ì‹œì§€ì˜ ìŠ¤ì½”í”„ì™€ ë¹„êµ

### ë¶ˆí•„ìš”í•œ í”½ìŠ¤ ì»¤ë°‹ ì‹ë³„

**íŒ¨í„´**:
- ì»¤ë°‹ ë©”ì‹œì§€ì— "ìˆ˜ì •", "fix", "ë³´ì •" ë“±ì˜ í‚¤ì›Œë“œ
- ì´ì „ ì»¤ë°‹ê³¼ ë™ì¼í•œ íŒŒì¼ ë˜ëŠ” ê´€ë ¨ íŒŒì¼ ìˆ˜ì •
- íƒ€ìž…ì´ `fix` ë˜ëŠ” `test`ì¸ ì»¤ë°‹

**ë³‘í•© ê°€ëŠ¥ ì¡°ê±´**:
- í”½ìŠ¤ ì»¤ë°‹ì˜ ë³€ê²½ íŒŒì¼ì´ ì´ì „ Nê°œ ì»¤ë°‹ ì¤‘ í•˜ë‚˜ì™€ ì§ì ‘ ê´€ë ¨ë¨
- ë…¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ìž‘ì—…ìœ¼ë¡œ ë¬¶ì¼ ìˆ˜ ìžˆìŒ
- ì»¨í”Œë¦­ ìœ„í—˜ì´ ì—†ìŒ (ë‹¨ìˆœ fixup ë³‘í•©)

### .claude/ íŒŒì¼ ì˜¤ì—¼ í™•ì¸

**í™•ì¸ ì‚¬í•­**:
- `.claude/temp/`, `.claude/.temp/` ë“± ìž„ì‹œ ë””ë ‰í† ë¦¬
- `.claude/context/`, `.claude/cache/` ë“± ìºì‹œ ë””ë ‰í† ë¦¬
- `.claude/*.log`, `.claude/*.tmp` ë“± ìž„ì‹œ íŒŒì¼

**ì œì™¸ ëŒ€ìƒ** (ì •ìƒì ìœ¼ë¡œ ì»¤ë°‹ë˜ì–´ì•¼ í•˜ëŠ” íŒŒì¼):
- `.claude/commands/` (ìŠ¬ëž˜ì‹œ ì»¤ë§¨ë“œ)
- `.claude/hooks/` (í›… ìŠ¤í¬ë¦½íŠ¸)
- `.claude/skills/` (ìŠ¤í‚¬ ì •ì˜)
- `CLAUDE.md` (í”„ë¡œì íŠ¸ ê°€ì´ë“œ)

## 3ë‹¨ê³„: ë¦¬í¬íŠ¸ ë° ì‚¬ìš©ìž í™•ì¸

ë°œê²¬ëœ ë¬¸ì œë¥¼ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¦¬í¬íŠ¸í•©ë‹ˆë‹¤:

```markdown
## ìž‘ì—… ë¸Œëžœì¹˜ ì •ë¦¬ ë¶„ì„ ê²°ê³¼

### ðŸ“Š í˜„í™©
- í˜„ìž¬ ë¸Œëžœì¹˜: [ë¸Œëžœì¹˜ëª…]
- ì´ ì»¤ë°‹ ìˆ˜: [N]ê°œ (main ì´í›„)
- ë³€ê²½ íŒŒì¼ ìˆ˜: [N]ê°œ

### âš ï¸ ë°œê²¬ëœ ë¬¸ì œ

#### 1. ì»¤ë°‹ ìŠ¤ì½”í”„ ë¬¸ì œ ([N]ê°œ)
| ì»¤ë°‹ | í˜„ìž¬ ìŠ¤ì½”í”„ | ë³€ê²½ íŒŒì¼ | ì˜¬ë°”ë¥¸ ìŠ¤ì½”í”„ |
|------|------------|----------|--------------|
| abc123 | feat(008-itembank) | apps/backend/... | feat(backend) |
| def456 | test(items) | apps/web-cms/... | test(web-cms) |

#### 2. ë³‘í•© ê°€ëŠ¥í•œ í”½ìŠ¤ ì»¤ë°‹ ([N]ê°œ)
| í”½ìŠ¤ ì»¤ë°‹ | ì›ì¸ ì»¤ë°‹ | ì„¤ëª… |
|----------|----------|------|
| xyz789 (fix) | abc123 (feat) | SQL ì¿¼ë¦¬ ìˆ˜ì •ì„ ì›ëž˜ êµ¬í˜„ì— ë³‘í•© |
| pqr012 (test) | def456 (test) | mock ì¶”ê°€ë¥¼ í…ŒìŠ¤íŠ¸ ìž‘ì„±ì— ë³‘í•© |

#### 3. .claude/ íŒŒì¼ ì˜¤ì—¼ ([N]ê°œ)
| íŒŒì¼ ê²½ë¡œ | ì»¤ë°‹ | ì¡°ì¹˜ |
|---------|------|------|
| .claude/temp/foo.txt | abc123 | gitì—ì„œ ì œê±° í•„ìš” |

#### 4. ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¶ˆì¼ì¹˜ ([N]ê°œ)
- [ ] specs/XXX/tasks.mdì˜ T084-T093ì´ ì™„ë£Œë˜ì—ˆìœ¼ë‚˜ ì²´í¬ ì•ˆë¨
- [ ] specs/XXX/plan.mdì˜ Phase 7ì´ ì™„ë£Œ ìƒíƒœë¡œ ì—…ë°ì´íŠ¸ í•„ìš”

### âœ… ì œì•ˆëœ í•´ê²° ë°©ë²•

1. **ì»¤ë°‹ ìŠ¤ì½”í”„ ìˆ˜ì •**: interactive rebaseë¡œ [N]ê°œ ì»¤ë°‹ ë©”ì‹œì§€ ìˆ˜ì •
2. **í”½ìŠ¤ ì»¤ë°‹ ë³‘í•©**: [N]ê°œ ì»¤ë°‹ì„ fixupìœ¼ë¡œ ë³‘í•© (ì´ [M]ê°œ ì»¤ë°‹ìœ¼ë¡œ ì •ë¦¬)
3. **.claude/ íŒŒì¼ ì œê±°**: git filter-branch ë˜ëŠ” ì»¤ë°‹ ìˆ˜ì •ìœ¼ë¡œ ì œê±°
4. **ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸**: ì™„ë£Œëœ ìž‘ì—… í‘œì‹œ í›„ ì»¤ë°‹

### ì˜ˆìƒ ê²°ê³¼
- ì»¤ë°‹ ìˆ˜: [N]ê°œ â†’ [M]ê°œ
- ê¹”ë”í•œ ì„ í˜• ížˆìŠ¤í† ë¦¬
- ì˜¬ë°”ë¥¸ ìŠ¤ì½”í”„ ê·œì¹™ ì¤€ìˆ˜
```

**ì‚¬ìš©ìžì—ê²Œ ì§ˆë¬¸**:
"ìœ„ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n)"
- ë§Œì•½ ì¼ë¶€ë§Œ ì§„í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–¤ í•­ëª©ì„ ì§„í–‰í• ì§€ ë¬¼ì–´ë´…ë‹ˆë‹¤.
- ì‚¬ìš©ìžê°€ íŠ¹ì • í•­ëª©ì— ëŒ€í•´ ë‹¤ë¥¸ ë°©ë²•ì„ ì›í•œë‹¤ë©´ ëŒ€ì•ˆì„ ì œì‹œí•©ë‹ˆë‹¤.

## 4ë‹¨ê³„: ì‹¤í–‰

ì‚¬ìš©ìž ìŠ¹ì¸ í›„ ë‹¤ìŒ ìž‘ì—…ì„ **ìˆœì°¨ì ìœ¼ë¡œ** ìˆ˜í–‰í•©ë‹ˆë‹¤:

### 4-1. ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ (ê°€ìž¥ ë¨¼ì €)
- specs/ ë””ë ‰í† ë¦¬ì˜ tasks.md, plan.md ë“±ì„ ì—…ë°ì´íŠ¸
- ì™„ë£Œëœ ìž‘ì—…ì„ [X]ë¡œ í‘œì‹œ
- ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹: `docs(XXX): ì²´í¬ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸`

### 4-2. .claude/ íŒŒì¼ ì œê±° (ë‘ ë²ˆì§¸)
- ì˜¤ì—¼ëœ íŒŒì¼ì´ ê°€ìž¥ ìµœê·¼ ì»¤ë°‹ì—ë§Œ ìžˆëŠ” ê²½ìš°: `git reset --soft HEAD~1` í›„ íŒŒì¼ ì œì™¸í•˜ê³  ìž¬ì»¤ë°‹
- ì—¬ëŸ¬ ì»¤ë°‹ì— ê±¸ì³ ìžˆëŠ” ê²½ìš°: interactive rebaseë¡œ í•´ë‹¹ ì»¤ë°‹ë“¤ì„ edití•˜ì—¬ íŒŒì¼ ì œê±°
- `.gitignore`ì— `.claude/temp/` ë“± ì¶”ê°€ (ì—†ëŠ” ê²½ìš°)

### 4-3. ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ ì •ë¦¬ (ë§ˆì§€ë§‰)

**rebase ìŠ¤í¬ë¦½íŠ¸ ìƒì„± ì „ëžµ**:

1. ëª¨ë“  ì»¤ë°‹ì„ ì‹œê°„ìˆœìœ¼ë¡œ ë‚˜ì—´ (ì˜¤ëž˜ëœ ê²ƒë¶€í„°)
2. ê° ì»¤ë°‹ì— ëŒ€í•´:
   - ìŠ¤ì½”í”„ ìˆ˜ì • í•„ìš” â†’ `reword`
   - í”½ìŠ¤ ì»¤ë°‹ â†’ ì›ì¸ ì»¤ë°‹ ë°”ë¡œ ë’¤ë¡œ ì´ë™ + `fixup`
   - ê·¸ ì™¸ â†’ `pick`

**ì˜ˆì‹œ rebase ìŠ¤í¬ë¦½íŠ¸**:
```bash
reword abc123 feat(008-itembank): ì›ëž˜ ë©”ì‹œì§€
fixup xyz789 fix(backend): SQL ìˆ˜ì •
reword def456 test(items): í…ŒìŠ¤íŠ¸ ìž‘ì„±
fixup pqr012 test(backend): mock ì¶”ê°€
pick ghi345 feat(web-cms): ì´ë¯¸ ì˜¬ë°”ë¥¸ ì»¤ë°‹
```

**ì‹¤í–‰ ë°©ë²•**:
```bash
# 1. rebase ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > /tmp/rebase-script.sh << 'EOF'
#!/bin/bash
cat > "$1" << 'REBASE_PLAN'
[ìƒì„±ëœ rebase ê³„íš]
REBASE_PLAN
EOF
chmod +x /tmp/rebase-script.sh

# 2. ì»¤ë°‹ ë©”ì‹œì§€ ìžë™ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
cat > /tmp/commit-message-rewriter.sh << 'EOF'
#!/bin/bash
message=$(cat "$1")
# ìŠ¤ì½”í”„ ìˆ˜ì • ë¡œì§
[ê° ì¼€ì´ìŠ¤ì— ë§žëŠ” sed/awk ëª…ë ¹]
EOF
chmod +x /tmp/commit-message-rewriter.sh

# 3. rebase ì‹¤í–‰
GIT_SEQUENCE_EDITOR=/tmp/rebase-script.sh \
GIT_EDITOR=/tmp/commit-message-rewriter.sh \
git rebase -i main
```

### 4-4. ê²°ê³¼ í™•ì¸ ë° ë¦¬í¬íŠ¸

```bash
# ìµœì¢… ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ í™•ì¸
git log main..HEAD --oneline

# ë³€ê²½ ì‚¬í•­ ìš”ì•½
echo "ì •ë¦¬ ì™„ë£Œ!"
echo "- ì»¤ë°‹ ìˆ˜: [ì´ì „] â†’ [ì´í›„]"
echo "- ìŠ¤ì½”í”„ ìˆ˜ì •: [N]ê°œ"
echo "- ë³‘í•©ëœ ì»¤ë°‹: [N]ê°œ"
```

ìµœì¢… ê²°ê³¼ë¥¼ ì‚¬ìš©ìžì—ê²Œ ë¦¬í¬íŠ¸í•˜ê³ , ë¬¸ì œê°€ ì—†ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

## ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### ì¶©ëŒ ë°œìƒ ì‹œ
- rebase ì¤‘ ì¶©ëŒ ë°œìƒí•˜ë©´ ì¤‘ë‹¨í•˜ê³  ì‚¬ìš©ìžì—ê²Œ ì•Œë¦¼
- ì¶©ëŒ íŒŒì¼ê³¼ ì›ì¸ì„ ì„¤ëª…
- ìˆ˜ë™ í•´ê²° ë°©ë²• ì•ˆë‚´

### í‘¸ì‹œëœ ì»¤ë°‹ ê²½ê³ 
- `git branch -r --contains HEAD` ë¡œ ë¦¬ëª¨íŠ¸ ë¸Œëžœì¹˜ í™•ì¸
- ì´ë¯¸ í‘¸ì‹œëœ ì»¤ë°‹ì„ rebaseí•˜ëŠ” ê²½ìš° ê²½ê³  ë©”ì‹œì§€ ì¶œë ¥
- ì‚¬ìš©ìžì—ê²Œ force push í•„ìš” ì—¬ë¶€ í™•ì¸

### ì•ˆì „ìž¥ì¹˜
- ìž‘ì—… ì „ í˜„ìž¬ ë¸Œëžœì¹˜ì˜ ë°±ì—… íƒœê·¸ ìƒì„±: `git tag backup-$(date +%Y%m%d-%H%M%S)`
- ì‚¬ìš©ìžì—ê²Œ ë°±ì—… íƒœê·¸ ìƒì„±ì„ ì•Œë¦¼
- ë¬¸ì œ ë°œìƒ ì‹œ ë³µêµ¬ ë°©ë²• ì•ˆë‚´: `git reset --hard backup-YYYYMMDD-HHMMSS`

## ì£¼ì˜ì‚¬í•­

- **ì ˆëŒ€ main/master ë¸Œëžœì¹˜ì—ì„œ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”**
- ìž‘ì—… ì „ ë°˜ë“œì‹œ í˜„ìž¬ ë¸Œëžœì¹˜ê°€ feature ë¸Œëžœì¹˜ì¸ì§€ í™•ì¸
- ì»¤ë°‹ ížˆìŠ¤í† ë¦¬ ë³€ê²½ì€ ë˜ëŒë¦¬ê¸° ì–´ë ¤ìš°ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì§„í–‰
- ë¶ˆí™•ì‹¤í•œ ê²½ìš° ì‚¬ìš©ìžì—ê²Œ í™•ì¸ ìš”ì²­
